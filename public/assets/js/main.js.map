{"version":3,"sources":["01-search.js","02-addfavorite.js","04-localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n// SELECTORS\n\nlet inputName = document.querySelector('.js-inputName');\nconst button = document.querySelector('.js-button');\nlet results = document.querySelector('.js-results');\nlet favSeries = document.querySelector('.js-favs');\n\n//CREAMOS ARRAYS\n\nlet seriesList = [];\nlet favorites = [];\n\n// LLAMAMOS A LA API\nconst getDataFromApi = () => {\n    const serieName = inputName.value;\n    fetch(`http://api.tvmaze.com/search/shows?q=${serieName}`)\n        .then(response => response.json())\n        .then(data => {\n            seriesList = data;\n            console.log(seriesList);\n            paintSeriesCatalogue(); //pintar\n        })\n        .catch(err => {\n            console.log('Ha habido un error', err);\n        });\n};\n\n\n//FUNCIÓN ALERTA WRITE A SERIE NAME\nfunction fullInputSearch(evt) {\n    if (inputName.value === '') {\n        return alert('Write a serie name');\n    }\n};\n\nbutton.addEventListener('click', fullInputSearch);\n\n//FUNCION PARA PINTAR CATÁLOGO\nconst paintSeriesCatalogue = (ev) => {\n    let results = ''; {\n        for (let index = 0; index < seriesList.length; index += 1) {\n            let element = seriesList[index];\n            if (element.show.image !== null) {\n                results += `<article class=\"serie serie__btn js-selectFav\" id=\"${element.show.id}\"\n                    data-index=\"${index}\"\n                    data-id=\"${element.show.id}\">`;\n                results += `<img src=\"${element.show.image.medium}  \" class=\"serie__img\" alt=\"${element.show.name} \" />`;\n                results += `<h4 class=\"serie__title\">${seriesList[index].show.name}     </h4>`;\n                results += `</article>`;\n            }\n            else {\n                results += `<article class=\"serie serie__btn js-selectFav\" id=\"${element.show.id}\" data-index=\"${index}\" data-id=\"${element.show.id}\">`;\n                results += `<img src=\"'https://via.placeholder.com/210x295/ffffff/666666/?text=TV'\"                 class=\"serie__img\" alt=\"${element.show.name} \" />`;\n                results += `<h4 class=\"serie__title\">${seriesList[index].show.name}     </h4>`;\n                results += `</article>`;\n            }\n        }\n        const seriesElement = document.querySelector('.js-results');\n        seriesElement.innerHTML = results;\n    }\n    listenSearchClick();\n};\n\nbutton.addEventListener('click', paintSeriesCatalogue);\n\n","'use strict';\r\n\r\n//ASIGNO LOS LISTENERS A LOS ARTICLEs\r\n\r\nconst listenSearchClick = () => {\r\n    const seriesBtns = document.querySelectorAll('.js-selectFav');\r\n    for (let serieBtn of seriesBtns) {\r\n        serieBtn.addEventListener('click', saveFavorites);\r\n        serieBtn.addEventListener('click', paintSeriesFavorites);\r\n    }\r\n};\r\n\r\n\r\n// SELECCCIONAR COMO FAV       \r\n\r\nfunction saveFavorites(ev) {\r\n    const index = ev.currentTarget.id;\r\n    if (favorites.indexOf(index) === -1) {\r\n        favorites.push(index);\r\n        // index.classList.add(\"color\");\r\n    } else {\r\n        alert('Esta serie ya es tu favorita');\r\n    }\r\n    console.log(favorites);\r\n    paintSeriesFavorites();\r\n};\r\n\r\n\r\n//FUNCIÓN PARA PINTAR EN FAVORITOS\r\n\r\nconst paintSeriesFavorites = (ev) => {\r\n    let favSeries = ''; {\r\n        for (let index = 0; index < seriesList.length; index += 1) {\r\n            favSeries += `<li class= \"list\">`;\r\n            favSeries += `<article class=\"serieFav\">`;\r\n            favSeries += `<p class=\"serie__btn js-selectFav\"\r\n            id=\"${seriesList[index].show.id}\"\r\n            data-index=\"${index}\">`;\r\n            favSeries += `<img src=\"${seriesList[index].show.image}\" class=\"serie__img\" alt=\"${seriesList[index].show.name}\" />`;\r\n            favSeries += `<h4 class=\"serie__title\">${seriesList[index].show.name}</h4>`;\r\n            favSeries += `</p>`;\r\n            favSeries += `</article>`;\r\n            favSeries += `</li>`;\r\n        }\r\n    }\r\n    const seriesFavsSelected = document.querySelector('.js-favs');\r\n    seriesFavsSelected.innerHTML = favSeries;\r\n    saveFavorites();\r\n    saveInfo();\r\n};\r\n\r\n\r\nbutton.addEventListener('click', getDataFromApi);\r\npaintSeriesCatalogue();\r\n\r\n","'use strict';\r\n\r\n//LOCAL STORAGE\r\n\r\nfunction saveInfo() {\r\n    localStorage.setItem('favorites', JSON.stringify(favorites));\r\n}\r\n\r\nfunction getInfo() {\r\n    const data = JSON.parse(localStorage.getItem('favorites'));\r\n    if (data !== null) {\r\n        favorites = data;\r\n    }\r\n};\r\n"]}