{"version":3,"sources":["01-search.js","02-addfavorite.js","03-reset.js","04-localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\r\n\r\n// SELECTORS\r\n\r\nlet inputName = document.querySelector('.js-inputName');\r\nconst button = document.querySelector('.js-button');\r\nlet results = document.querySelector('.js-results');\r\nlet favSeries = document.querySelector('.js-favs');\r\nconst resetBtn = document.querySelector('.js-btnReset');\r\n\r\n//CREAMOS ARRAYS\r\n\r\nlet seriesList = [];\r\nlet favoritesSelect = getInfo || [];\r\n\r\n// LLAMAMOS A LA API\r\nconst getDataFromApi = () => {\r\n    const serieName = inputName.value;\r\n    fetch(`http://api.tvmaze.com/search/shows?q=${serieName}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            seriesList = data;\r\n            console.log(seriesList);\r\n            paintSeriesCatalogue();\r\n        })\r\n        .catch(err => {\r\n            console.log('Ha habido un error', err);\r\n        });\r\n};\r\n\r\n\r\n//FUNCIÓN ALERTA WRITE A SERIE NAME\r\nfunction fullInputSearch(evt) {\r\n    if (inputName.value === '') {\r\n        return alert('Write a serie name');\r\n    }\r\n};\r\n\r\nbutton.addEventListener('click', fullInputSearch);\r\n\r\n//FUNCION PARA PINTAR CATÁLOGO\r\nconst paintSeriesCatalogue = () => {\r\n    let results = ''; {\r\n        for (let index = 0; index < seriesList.length; index += 1) {\r\n            let element = seriesList[index];\r\n            results += `<article class=\"serie serie__btn js-selectFav \" id=\"${element.show.id}\" data-index=\"${index}\" data-id=\"${element.show.id}\">`;\r\n            if (element.show.image !== null) {\r\n                results += `<img src=\"${element.show.image.medium}  \" class=\"serie__img\" alt=\"${element.show.name} \" />`;\r\n            } else {\r\n                results += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\" class=\"serie__img\" alt=\"${element.show.name} \" />`;\r\n            }\r\n            results += `<h4 class=\"serie__title\">${seriesList[index].show.name} </h4>`;\r\n            results += `<h5 class=\"serie__title\">${seriesList[index].show.premiered} </h5>`;\r\n            results += `</article>`;\r\n        }\r\n\r\n        const seriesElement = document.querySelector('.js-results');\r\n        seriesElement.innerHTML = results;\r\n    }\r\n    listenSearchClick();\r\n};\r\n\r\n\r\n\r\n","'use strict';\r\n\r\n//ASIGNO LOS LISTENERS A LOS ARTICLEs\r\n\r\nconst listenSearchClick = () => {\r\n    const seriesBtns = document.querySelectorAll('.js-selectFav');\r\n    for (let serieBtn of seriesBtns) {\r\n        serieBtn.addEventListener('click', saveFavorites);\r\n    }\r\n};\r\n\r\n\r\n// SELECCCIONAR COMO FAV       \r\n\r\nfunction saveFavorites(ev) {\r\n    const clickedId = parseInt(ev.currentTarget.id);\r\n    const clikedIdFav = seriesList.find(favItem => favItem.show.id === clickedId);\r\n    if (favoritesSelect.indexOf(clikedIdFav) === -1) {\r\n        favoritesSelect.push(clikedIdFav);\r\n        const serieFav = document.getElementById(clickedId);\r\n        serieFav.classList.add('color');\r\n        paintSeriesFavorites();\r\n    } else {\r\n        alert('This serie is already in your list');\r\n    }\r\n    saveInfo();\r\n};\r\n\r\n//FUNCIÓN PARA PINTAR EN FAVORITOS\r\n\r\nconst paintSeriesFavorites = (ev) => {\r\n    resetBtn.innerHTML = '<button class=\"finder__btn\">Reset</>';\r\n    let results = ''; {\r\n        for (let index = 0; index < favoritesSelect.length; index += 1) {\r\n            let element = favoritesSelect[index];\r\n            results += `<li class= \"list\">`;\r\n            results += `<article class=\"serieFav\" id=\"${element.show.id}\"\r\n            data-index=\"${index}\"\r\n            data-id=\"${element.show.id}\">`;\r\n            if (element.show.image !== null) {\r\n                results += `<img src=\"${element.show.image.medium}  \" class=\"serie__img\" alt=\"${element.show.name} \" />`;\r\n            } else {\r\n                results += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\" class=\"serie__img\" alt=\"${element.show.name} \" />`;\r\n            }\r\n            results += `</article>`;\r\n            results += `</li>`;\r\n        }\r\n        const seriesElement = document.querySelector('.js-favs');\r\n        seriesElement.innerHTML = results;\r\n    }\r\n\r\n};\r\n\r\n\r\nbutton.addEventListener('click', getDataFromApi);\r\nbutton.addEventListener('click', paintSeriesCatalogue);\r\ngetInfo(favoritesSelect);\r\n","const resetFavorites = (ev) => {\r\n    favoritesSelect = [];\r\n    saveInfo();\r\n    paintSeriesFavorites();\r\n    listenSearchClick();\r\n};\r\n\r\nresetBtn.addEventListener(\"click\", resetFavorites);","'use strict';\r\n\r\n//LOCAL STORAGE\r\n\r\nfunction saveInfo() {\r\n    localStorage.setItem('favoriteSerie', JSON.stringify(favoritesSelect));\r\n}\r\n\r\nfunction getInfo() {\r\n    const data = JSON.parse(localStorage.getItem('favoriteSerie'));\r\n    if (data !== null) {\r\n        favoritesSelect = data;\r\n    }\r\n    paintSeriesFavorites()\r\n};\r\n\r\n"]}