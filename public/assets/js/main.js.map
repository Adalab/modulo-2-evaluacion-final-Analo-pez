{"version":3,"sources":["01-search.js","02-addfavorite.js","03-reset.js","04-localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n// SELECTORS\n\nlet inputName = document.querySelector('.js-inputName');\nconst button = document.querySelector('.js-button');\nlet results = document.querySelector('.js-results');\nlet favSeries = document.querySelector('.js-favs');\nconst resetBtn = document.querySelector('.js-btnReset');\n\n//CREAMOS ARRAYS\n\nlet seriesList = [];\nlet favorites = [];\n\n// LLAMAMOS A LA API\nconst getDataFromApi = () => {\n    const serieName = inputName.value;\n    fetch(`http://api.tvmaze.com/search/shows?q=${serieName}`)\n        .then(response => response.json())\n        .then(data => {\n            seriesList = data;\n            console.log(seriesList);\n            paintSeriesCatalogue();\n        })\n        .catch(err => {\n            console.log('Ha habido un error', err);\n        });\n};\n\n\n//FUNCIÓN ALERTA WRITE A SERIE NAME\nfunction fullInputSearch(evt) {\n    if (inputName.value === '') {\n        return alert('Write a serie name');\n    }\n};\n\nbutton.addEventListener('click', fullInputSearch);\n\n//FUNCION PARA PINTAR CATÁLOGO\nconst paintSeriesCatalogue = () => {\n    let results = ''; {\n        for (let index = 0; index < seriesList.length; index += 1) {\n            let element = seriesList[index];\n            let favClass = '';\n            if (element === favorites[index]) {\n                favClass = 'color'\n            }\n            results += `<article class=\"serie serie__btn js-selectFav ${favClass}\" id=\"${element.show.id}\" data-index=\"${index}\" data-id=\"${element.show.id}\">`;\n            if (element.show.image !== null) {\n                results += `<img src=\"${element.show.image.medium}  \" class=\"serie__img\" alt=\"${element.show.name} \" />`;\n            } else {\n                results += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\" class=\"serie__img\" alt=\"${element.show.name} \" />`;\n            }\n            results += `<h4 class=\"serie__title\">${seriesList[index].show.name} </h4>`;\n            results += `<h5 class=\"serie__title\">${seriesList[index].show.premiered} </h5>`;\n            results += `</article>`;\n        }\n\n        const seriesElement = document.querySelector('.js-results');\n        seriesElement.innerHTML = results;\n    }\n    listenSearchClick();\n};\n\n\n\n","'use strict';\r\n\r\n//ASIGNO LOS LISTENERS A LOS ARTICLEs\r\n\r\nconst listenSearchClick = () => {\r\n    const seriesBtns = document.querySelectorAll('.js-selectFav');\r\n    for (let serieBtn of seriesBtns) {\r\n        serieBtn.addEventListener('click', saveFavorites);\r\n    }\r\n};\r\n\r\n\r\n// SELECCCIONAR COMO FAV       \r\n\r\nfunction saveFavorites(ev) {\r\n    const clickedId = parseInt(ev.currentTarget.id);\r\n\r\n    const clikedIdFav = seriesList.find(favItem => favItem.show.id === clickedId);\r\n    favorites.push(clikedIdFav);\r\n    paintSeriesFavorites();\r\n    saveInfo();\r\n    resetBtn.innerHTML = '<button class=\"finder__btn\">Reset</>';\r\n};\r\n\r\n//FUNCIÓN PARA PINTAR EN FAVORITOS\r\n\r\nconst paintSeriesFavorites = (ev) => {\r\n    let results = ''; {\r\n        for (let index = 0; index < favorites.length; index += 1) {\r\n            let element = favorites[index];\r\n            results += `<li class= \"list\">`;\r\n            results += `<article class=\"serieFav\" id=\"${element.show.id}\"\r\n            data-index=\"${index}\"\r\n            data-id=\"${element.show.id}\">`;\r\n            if (element.show.image !== null) {\r\n                results += `<img src=\"${element.show.image.medium}  \" class=\"serie__img\" alt=\"${element.show.name} \" />`;\r\n            } else {\r\n                results += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\" class=\"serie__img\" alt=\"${element.show.name} \" />`;\r\n            }\r\n            results += `<h4 class=\"serie__title\">${favorites[index].show.name}     </h4>`;\r\n            results += `</article>`;\r\n            results += `</li>`;\r\n        }\r\n        const seriesElement = document.querySelector('.js-favs');\r\n        seriesElement.innerHTML = results;\r\n    }\r\n\r\n};\r\n\r\n\r\nbutton.addEventListener('click', getDataFromApi);\r\nbutton.addEventListener('click', paintSeriesCatalogue);\r\ngetInfo(favorites);\r\n","const resetFavorites = (ev) => {\r\n    console.log('me han clickado');\r\n    favorites = [];\r\n    saveInfo();\r\n    paintSeriesFavorites();\r\n    listenSearchClick();\r\n    resetBtn.classList.add('hidden');\r\n};\r\n\r\nresetBtn.addEventListener(\"click\", resetFavorites);\r\n","'use strict';\r\n\r\n//LOCAL STORAGE\r\n\r\nfunction saveInfo() {\r\n    localStorage.setItem('favoriteSerie', JSON.stringify(favorites));\r\n}\r\n\r\nfunction getInfo() {\r\n    const data = JSON.parse(localStorage.getItem('favoriteSerie'));\r\n    if (data !== null) {\r\n        favorites = data;\r\n    }\r\n};\r\n\r\n"]}