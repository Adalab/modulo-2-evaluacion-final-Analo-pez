{"version":3,"sources":["01-search.js","02-addfavorite.js","04-localStorage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n// SELECTORS\n\nlet inputName = document.querySelector('.js-inputName');\nconst button = document.querySelector('.js-button');\nlet results = document.querySelector('.js-results');\nlet favSeries = document.querySelector('.js-favs');\n\n//CREAMOS ARRAYS\n\nlet seriesList= '';\nlet favorites = [];\n\n// LLAMAMOS A LA API\nconst getDataFromApi = () => {\n    const serieName = inputName.value;\n    fetch(`http://api.tvmaze.com/singlesearch/shows?q=${serieName}`)\n        .then(response => response.json())\n        .then(data => {\n            seriesList = data.name;\n            console.log(seriesList);\n            paintSeriesCatalogue(); //pintar\n        })\n        .catch(err => {\n    console.log('Ha habido un error', err);\n  });\n};\n\n\n//FUNCIÓN ALERTA WRITE A SERIE NAME\nfunction fullInputSearch(evt) {\n  if (inputName.value === '') {\n   return alert('Write a serie name');\n  }\n};\n\nbutton.addEventListener('click', fullInputSearch )\n\n//FUNCION PARA PINTAR CATÁLOGO\nconst paintSeriesCatalogue = (ev) => {\n    let results = '';{\n        for (let index = 0; index < seriesList.length; index += 1) {\n            results += `<article class=\"serie\">`;\n            results += `<button class=\"serie__btn js-selectFav\"\n            id=\"${seriesList[index].id}\"\n            data-index=\"${index}\"\n            data-id=\"${seriesList[index].id}\">`;\n            results += `<img src=\"${seriesList[index].image}\" class=\"serie__img\" alt=\"${seriesList[index].name}\" />`;\n            results += `<h4 class=\"serie__title\">${seriesList[index].name}</h4>`;\n            results += `</button>`;\n            results += `</article>`;\n        }\n    }\n    const seriesElement = document.querySelector('.js-results');\n    seriesElement.innerHTML = results;\n    listenSearchClick();\n    // console.log(results);\n};\n\nbutton.addEventListener('click', paintSeriesCatalogue);\n\n\n","'use strict';\r\n\r\n// SELECCCIONAR COMO FAV CON ID\r\n\r\nconst saveFavorites = (ev) => {\r\n    let results = '';\r\n    console.log(results);\r\n    const clickedId = parseInt(ev.currentTarget.id);\r\n    for (const result of results) {\r\n        if (result.id === clickedId && results.indexOf(index) === -1) {\r\n            favorites.push(result);\r\n            paintSeriesFavorites();\r\n        } else {\r\n            // sí está: muestro un alert\r\n            alert('This serie is already in your list!');\r\n        }\r\n    }console.log('qué pasa', isNaN(clickedId));\r\n};\r\n  \r\n\r\nconst listenSearchClick = () => {\r\n    const seriesBtns = document.querySelectorAll('.js-selectFav');\r\n    for (let index = 0; index < seriesBtns.length; index++) {\r\n        const seriesBtn = seriesBtns[index];\r\n        seriesBtn.addEventListener('click', saveFavorites);\r\n    }\r\n};\r\n\r\n\r\n//FUNCIÓN PARA PINTAR EN FAVORITOS\r\n\r\nconst paintSeriesFavorites = (ev) => {\r\n    let favSeries = ''; {\r\n        for (let index = 0; index < seriesList.length; index += 1) {\r\n            favSeries += `<li>`;\r\n            favSeries += `<article class=\"serie\">`;\r\n            favSeries += `<button class=\"serie__btn js-selectFav\"\r\n            id=\"${seriesList[index].id}\"\r\n            data-index=\"${index}\">`;\r\n            favSeries += `<img src=\"${seriesList[index].image}\" class=\"serie__img\" alt=\"${seriesList[index].name}\" />`;\r\n            favSeries += `<h4 class=\"serie__title\">${seriesList[index].name}</h4>`;\r\n            favSeries += `</button>`;\r\n            favSeries += `</article>`;\r\n            favSeries += `</li>`;\r\n        }\r\n    }\r\n    const seriesFavsSelected = document.querySelector('.js-favs');\r\n    seriesFavsSelected.innerHTML = favSeries;\r\n    listenSearchClick();\r\n    // saveInfo();\r\n};\r\n\r\n\r\nbutton.addEventListener('click', getDataFromApi);\r\npaintSeriesCatalogue();\r\n\r\n","'use strict';\r\n\r\n//LOCAL STORAGE\r\n\r\n// function saveInfo() {\r\n//     localStorage.setItem('favorites', JSON.stringify(favorites));\r\n// }\r\n\r\n// function getInfo() {\r\n//     const data = JSON.parse(localStorage.getItem('favorites'));\r\n//     if (data !== null) {\r\n//         favorites = data;\r\n//     }\r\n// };\r\n"]}