"use strict";let inputName=document.querySelector(".js-inputName");const button=document.querySelector(".js-button");let results=document.querySelector(".js-results"),favSeries=document.querySelector(".js-favs");const resetBtn=document.querySelector(".js-btnReset");let seriesList=[],favorites=[];const getDataFromApi=()=>{const e=inputName.value;fetch("http://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{seriesList=e,console.log(seriesList),paintSeriesCatalogue()}).catch(e=>{console.log("Ha habido un error",e)})};function fullInputSearch(e){if(""===inputName.value)return alert("Write a serie name")}button.addEventListener("click",fullInputSearch);const paintSeriesCatalogue=e=>{let t="";for(let e=0;e<seriesList.length;e+=1){let s=seriesList[e];null!==s.show.image?(t+=`<article class="serie serie__btn js-selectFav" id="${s.show.id}"\n                    data-index="${e}"\n                    data-id="${s.show.id}">`,t+=`<img src="${s.show.image.medium}  " class="serie__img" alt="${s.show.name} " />`,t+=`<h4 class="serie__title">${seriesList[e].show.name}     </h4>`,t+="</article>"):(t+=`<article class="serie serie__btn js-selectFav" id="${s.show.id}" data-index="${e}" data-id="${s.show.id}">`,t+=`<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV"                 class="serie__img" alt="${s.show.name} " />`,t+=`<h4 class="serie__title">${seriesList[e].show.name}     </h4>`,t+="</article>")}document.querySelector(".js-results").innerHTML=t;listenSearchClick()},listenSearchClick=()=>{const e=document.querySelectorAll(".js-selectFav");for(let t of e)t.addEventListener("click",saveFavorites)};function saveFavorites(e){const t=e.currentTarget;-1===favorites.indexOf(t)?(favorites.push(t),saveInfo(),t.classList.add("color"),resetBtn.innerHTML='<button class="finder__btn">Reset</>'):alert("This serie is already in your list"),console.log(favorites),console.log("me han clickado")}button.addEventListener("click",getDataFromApi),button.addEventListener("click",paintSeriesCatalogue),getInfo();const resetFavorites=e=>{console.log("me han clickado"),favorites=[],saveInfo(),resetBtn.classList.add("hidden")};function saveInfo(){localStorage.setItem("favoriteSerie",JSON.stringify(favorites))}function getInfo(){const e=JSON.parse(localStorage.getItem("favoriteSerie"));null!==e&&(favorites=e)}resetBtn.addEventListener("click",resetFavorites);